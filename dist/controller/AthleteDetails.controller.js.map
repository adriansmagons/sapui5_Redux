{"version":3,"file":"AthleteDetails.controller.js","names":["sap","ui","define","Controller","commonActions","athleteDetailsActions","MenuBase","ColumnMenu","QuickSort","QuickSortItem","extend","onInit","this","oAthleteDetailsActions","oCommonActions","oRouter","getOwnerComponent","getRouter","getRoute","attachPatternMatched","onObjectMatched","createDateSort","oEvent","getView","bindElement","path","window","decodeURIComponent","getParameter","athletePath","model","events","dataRequested","that","setBusy","dataReceived","onSelectTab","sTargetRoute","sKey","sCurrentView","oView","sViewName","split","at","oNavigateAction","navigateTo","sView","sOldView","nAthleteId","reduxStore","dispatch","oTable","byId","aColumns","getColumns","oDateColumn","setHeaderMenu","quickActions","items","key","label","change","onSort","bind","sSortOrder","getSortOrder","oSortTableAction","sortTable","sOrder","sAttribute","sEntityName"],"sources":["AthleteDetails.controller.js"],"sourcesContent":["sap.ui.define([\r\n\t\"sap/ui/core/mvc/Controller\",\r\n    \"ui5/fitnessApp/actions/commonActions\",\r\n    \"ui5/fitnessApp/actions/athleteDetailsActions\",\r\n    \"sap/m/table/columnmenu/MenuBase\",\r\n    \"sap/m/table/columnmenu/Menu\",\r\n    \"sap/m/table/columnmenu/QuickSort\",\r\n    \"sap/m/table/columnmenu/QuickSortItem\",\r\n], (Controller, commonActions, athleteDetailsActions, MenuBase, ColumnMenu, QuickSort, QuickSortItem,) => {\r\n\t\"use strict\";\r\n\r\n\treturn Controller.extend(\"ui5.fitnessApp.controller.AthleteDetails\", {\r\n\r\n        onInit: function () {\r\n\r\n            this.oAthleteDetailsActions = new athleteDetailsActions();\r\n            this.oCommonActions = new commonActions();\r\n            const oRouter = this.getOwnerComponent().getRouter();\r\n            oRouter.getRoute(\"athleteDetails\").attachPatternMatched(this.onObjectMatched, this);\r\n            this.createDateSort();\r\n        },\r\n\r\n        onObjectMatched: function(oEvent) {\r\n            this.getView().bindElement({\r\n                path: \"/\" + window.decodeURIComponent(oEvent.getParameter(\"arguments\").athletePath),\r\n                model: \"athleteModel\",\r\n                events : {\r\n                    dataRequested: function () {\r\n                        that.getView().setBusy(true);\r\n                },\r\n                    dataReceived: function () {\r\n                        that.getView().setBusy(false);\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        onSelectTab: function(oEvent){\r\n            let sTargetRoute = \"home\";\r\n            const sKey = oEvent.getParameter(\"key\");\r\n\r\n            switch(sKey){\r\n                case \"Startpage\":\r\n                    sTargetRoute = \"home\";\r\n                    break;\r\n                case \"Profile\":\r\n                    sTargetRoute = \"profile\";\r\n                    break;\r\n            }\r\n\r\n            const sCurrentView = this.oView.sViewName.split('.').at(-1)\r\n            const oNavigateAction = this.oCommonActions.navigateTo({sView: sKey, sOldView: sCurrentView, sTargetRoute: sTargetRoute, nAthleteId: null});\r\n            this.getOwnerComponent().reduxStore.dispatch(oNavigateAction);\r\n        },\r\n        createDateSort: function(){\r\n            const oTable = this.getView().byId(\"sessions_table\");\r\n\t\t\tconst aColumns = oTable.getColumns();\r\n            const oDateColumn = aColumns[1];\r\n\r\n            oDateColumn.setHeaderMenu(new ColumnMenu({\r\n\t\t\t\tquickActions: [\r\n\t\t\t\t\tnew QuickSort({\r\n\t\t\t\t\t\titems: new QuickSortItem({\r\n\t\t\t\t\t\t\tkey: \"Date\",\r\n\t\t\t\t\t\t\tlabel: \"Date\"\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tchange: this.onSort.bind(this)\r\n\t\t\t\t\t})\r\n\t\t\t\t]\r\n\t\t\t}));\r\n        },\r\n        onSort: function(oEvent){\r\n            let sSortOrder = oEvent.getParameter(\"item\").getSortOrder();\r\n            if(sSortOrder === \"Ascending\"){\r\n                sSortOrder = \"ASC\"\r\n            }else if(sSortOrder === \"Descending\"){\r\n                sSortOrder = \"DESC\"\r\n            }else{\r\n                sSortOrder = \"\"\r\n            }\r\n            const oSortTableAction = this.oCommonActions.sortTable({sOrder: sSortOrder, sAttribute: [\"date\"], sEntityName: \"trainingSessions\"});\r\n            this.getOwnerComponent().reduxStore.dispatch(oSortTableAction);\r\n        },\r\n\t});\r\n\r\n});"],"mappings":"AAAAA,IAAIC,GAAGC,OAAO,CACb,6BACG,uCACA,+CACA,kCACA,8BACA,mCACA,wCACD,CAACC,EAAYC,EAAeC,EAAuBC,EAAUC,EAAYC,EAAWC,KACtF,aAEA,OAAON,EAAWO,OAAO,2CAA4C,CAE9DC,OAAQ,WAEJC,KAAKC,uBAAyB,IAAIR,EAClCO,KAAKE,eAAiB,IAAIV,EAC1B,MAAMW,EAAUH,KAAKI,oBAAoBC,YACzCF,EAAQG,SAAS,kBAAkBC,qBAAqBP,KAAKQ,gBAAiBR,MAC9EA,KAAKS,gBACT,EAEAD,gBAAiB,SAASE,GACtBV,KAAKW,UAAUC,YAAY,CACvBC,KAAM,IAAMC,OAAOC,mBAAmBL,EAAOM,aAAa,aAAaC,aACvEC,MAAO,eACPC,OAAS,CACLC,cAAe,WACXC,KAAKV,UAAUW,QAAQ,KAC/B,EACIC,aAAc,WACVF,KAAKV,UAAUW,QAAQ,MAC3B,IAGZ,EACAE,YAAa,SAASd,GAClB,IAAIe,EAAe,OACnB,MAAMC,EAAOhB,EAAOM,aAAa,OAEjC,OAAOU,GACH,IAAK,YACDD,EAAe,OACf,MACJ,IAAK,UACDA,EAAe,UACf,MAGR,MAAME,EAAe3B,KAAK4B,MAAMC,UAAUC,MAAM,KAAKC,IAAI,GACzD,MAAMC,EAAkBhC,KAAKE,eAAe+B,WAAW,CAACC,MAAOR,EAAMS,SAAUR,EAAcF,aAAcA,EAAcW,WAAY,OACrIpC,KAAKI,oBAAoBiC,WAAWC,SAASN,EACjD,EACAvB,eAAgB,WACZ,MAAM8B,EAASvC,KAAKW,UAAU6B,KAAK,kBAC5C,MAAMC,EAAWF,EAAOG,aACf,MAAMC,EAAcF,EAAS,GAE7BE,EAAYC,cAAc,IAAIjD,EAAW,CACjDkD,aAAc,CACb,IAAIjD,EAAU,CACbkD,MAAO,IAAIjD,EAAc,CACxBkD,IAAK,OACLC,MAAO,SAERC,OAAQjD,KAAKkD,OAAOC,KAAKnD,WAIvB,EACAkD,OAAQ,SAASxC,GACb,IAAI0C,EAAa1C,EAAOM,aAAa,QAAQqC,eAC7C,GAAGD,IAAe,YAAY,CAC1BA,EAAa,KACjB,MAAM,GAAGA,IAAe,aAAa,CACjCA,EAAa,MACjB,KAAK,CACDA,EAAa,EACjB,CACA,MAAME,EAAmBtD,KAAKE,eAAeqD,UAAU,CAACC,OAAQJ,EAAYK,WAAY,CAAC,QAASC,YAAa,qBAC/G1D,KAAKI,oBAAoBiC,WAAWC,SAASgB,EACjD,GACL","ignoreList":[]}