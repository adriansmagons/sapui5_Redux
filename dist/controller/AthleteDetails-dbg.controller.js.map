{"version":3,"names":["sap","ui","define","Controller","commonActions","athleteDetailsActions","MenuBase","ColumnMenu","QuickSort","QuickSortItem","extend","onInit","oAthleteDetailsActions","oCommonActions","oRouter","getOwnerComponent","getRouter","getRoute","attachPatternMatched","onObjectMatched","createDateSort","oEvent","getView","bindElement","path","window","decodeURIComponent","getParameter","athletePath","model","events","dataRequested","that","setBusy","dataReceived","onSelectTab","sTargetRoute","sKey","sCurrentView","oView","sViewName","split","at","oNavigateAction","navigateTo","sView","sOldView","nAthleteId","reduxStore","dispatch","oTable","byId","aColumns","getColumns","oDateColumn","setHeaderMenu","quickActions","items","key","label","change","onSort","bind","sSortOrder","getSortOrder","oSortTableAction","sortTable","sOrder","sAttribute","sEntityName"],"sources":["AthleteDetails.controller.js"],"sourcesContent":["sap.ui.define([\r\n\t\"sap/ui/core/mvc/Controller\",\r\n    \"ui5/fitnessApp/actions/commonActions\",\r\n    \"ui5/fitnessApp/actions/athleteDetailsActions\",\r\n    \"sap/m/table/columnmenu/MenuBase\",\r\n    \"sap/m/table/columnmenu/Menu\",\r\n    \"sap/m/table/columnmenu/QuickSort\",\r\n    \"sap/m/table/columnmenu/QuickSortItem\",\r\n], (Controller, commonActions, athleteDetailsActions, MenuBase, ColumnMenu, QuickSort, QuickSortItem,) => {\r\n\t\"use strict\";\r\n\r\n\treturn Controller.extend(\"ui5.fitnessApp.controller.AthleteDetails\", {\r\n\r\n        onInit: function () {\r\n\r\n            this.oAthleteDetailsActions = new athleteDetailsActions();\r\n            this.oCommonActions = new commonActions();\r\n            const oRouter = this.getOwnerComponent().getRouter();\r\n            oRouter.getRoute(\"athleteDetails\").attachPatternMatched(this.onObjectMatched, this);\r\n            this.createDateSort();\r\n        },\r\n\r\n        onObjectMatched: function(oEvent) {\r\n            this.getView().bindElement({\r\n                path: \"/\" + window.decodeURIComponent(oEvent.getParameter(\"arguments\").athletePath),\r\n                model: \"athleteModel\",\r\n                events : {\r\n                    dataRequested: function () {\r\n                        that.getView().setBusy(true);\r\n                },\r\n                    dataReceived: function () {\r\n                        that.getView().setBusy(false);\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        onSelectTab: function(oEvent){\r\n            let sTargetRoute = \"home\";\r\n            const sKey = oEvent.getParameter(\"key\");\r\n\r\n            switch(sKey){\r\n                case \"Startpage\":\r\n                    sTargetRoute = \"home\";\r\n                    break;\r\n                case \"Profile\":\r\n                    sTargetRoute = \"profile\";\r\n                    break;\r\n            }\r\n\r\n            const sCurrentView = this.oView.sViewName.split('.').at(-1)\r\n            const oNavigateAction = this.oCommonActions.navigateTo({sView: sKey, sOldView: sCurrentView, sTargetRoute: sTargetRoute, nAthleteId: null});\r\n            this.getOwnerComponent().reduxStore.dispatch(oNavigateAction);\r\n        },\r\n        createDateSort: function(){\r\n            const oTable = this.getView().byId(\"sessions_table\");\r\n\t\t\tconst aColumns = oTable.getColumns();\r\n            const oDateColumn = aColumns[1];\r\n\r\n            oDateColumn.setHeaderMenu(new ColumnMenu({\r\n\t\t\t\tquickActions: [\r\n\t\t\t\t\tnew QuickSort({\r\n\t\t\t\t\t\titems: new QuickSortItem({\r\n\t\t\t\t\t\t\tkey: \"Date\",\r\n\t\t\t\t\t\t\tlabel: \"Date\"\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tchange: this.onSort.bind(this)\r\n\t\t\t\t\t})\r\n\t\t\t\t]\r\n\t\t\t}));\r\n        },\r\n        onSort: function(oEvent){\r\n            let sSortOrder = oEvent.getParameter(\"item\").getSortOrder();\r\n            if(sSortOrder === \"Ascending\"){\r\n                sSortOrder = \"ASC\"\r\n            }else if(sSortOrder === \"Descending\"){\r\n                sSortOrder = \"DESC\"\r\n            }else{\r\n                sSortOrder = \"\"\r\n            }\r\n            const oSortTableAction = this.oCommonActions.sortTable({sOrder: sSortOrder, sAttribute: [\"date\"], sEntityName: \"trainingSessions\"});\r\n            this.getOwnerComponent().reduxStore.dispatch(oSortTableAction);\r\n        },\r\n\t});\r\n\r\n});"],"mappings":"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","ignoreList":[],"file":"AthleteDetails-dbg.controller.js"}