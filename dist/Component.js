sap.ui.define(["sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","sap/ui/model/resource/ResourceModel","ui5/fitnessApp/utils/DataPreprocessor","ui5/fitnessApp/store","sap/ui/model/Sorter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/FilterType","ui5/fitnessApp/selectors/commonSelectors","ui5/fitnessApp/actions/commonActions","sap/m/MessageToast"],(e,t,s,i,o,a,n,r,l,u,c,d)=>{"use strict";return e.extend("ui5.fitnessApp.Component",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"],manifest:"json"},init(){e.prototype.init.apply(this,arguments);var a=new t;a.setDefaultBindingMode(sap.ui.model.BindingMode.OneWay);this.setModel(a,"athleteModel");var n=new t;n.setDefaultBindingMode(sap.ui.model.BindingMode.OneWay);this.setModel(n,"athleteDetailsModel");this.oRouter=this.getRouter();const r=["/client/model/data/athletes.json","/client/model/data/training_sessions.json"];const l=new i;const d={entities:{athletes:{},trainingSessions:{},games:{}},app:{filters:{athletes:{attribute:["surname"],query:""}},sorting:{athletes:{attribute:[""],order:""},trainingSessions:{attribute:["date"],order:"ASC"}}},ui:{activeRoute:"home",activeView:"Startpage",currentAthlete:null,routeParameters:{},appLoading:false}};const p=new o(d);this.reduxStore=p.store;this.commonActions=new c;l.fetchData(r).then(e=>{const t=this.commonActions.loadData({oData:l.processAthletes(e),sEntityName:"athletes"});this.reduxStore.dispatch(t)});this.reduxStore.subscribe(()=>{console.log("State after dispatch: ",this.reduxStore.getState());const e=this.reduxStore.getState();this.oRouter.navTo(u.selectActiveRoute(e),u.selectRouteParameters(e));a.setData(u.selectVisibleAthletes(e,"athletes"));if(u.selectActiveView(e)==="AthleteDetails"){n.setData(u.selectVisibleSessions(e,"trainingSessions"))}});const h=new s({bundleName:"ui5.fitnessApp.i18n.i18n"});this.setModel(h,"i18n");this.getRouter().initialize()}})});
//# sourceMappingURL=Component.js.map