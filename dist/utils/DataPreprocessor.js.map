{"version":3,"file":"DataPreprocessor.js","names":["sap","ui","define","BaseObject","extend","constructor","fetchData","async","aUrls","promises","map","url","fetch","allResponses","Promise","all","res","json","err","Error","processAthletes","oData","aNewAthletes","athlete","athletes","aAthleteSessions","session","training_sessions","atendees","_id","id","push","trainingSessions","trainingSessionCount","length","oAthletes"],"sources":["DataPreprocessor.js"],"sourcesContent":["sap.ui.define([\"sap/ui/base/Object\"], function(BaseObject) {\r\n\r\n   return BaseObject.extend(\"ui5.fitnessApp.utils.DataPreprocessor\", {\r\n    constructor: function () {\r\n\r\n    },\r\n    fetchData: async function (aUrls) {\r\n        try{\r\n            let promises = aUrls.map((url) => fetch(url));\r\n            let allResponses = await Promise.all(promises);\r\n            let fetchData = await Promise.all(allResponses.map((res) => res.json()));\r\n            \r\n            return fetchData\r\n        }catch (err){\r\n            throw new Error(`Data fetch failed: ${err}`);\r\n        }\r\n    },\r\n\r\n    processAthletes: function(oData) {\r\n        const aNewAthletes = []\r\n        for(const athlete of oData[0].athletes){\r\n            const aAthleteSessions = [];\r\n            for(const session of oData[1].training_sessions){\r\n                for(const atendees of session.atendees){\r\n                    if(athlete._id === atendees.id){\r\n                        aAthleteSessions.push(session);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            athlete.trainingSessions = aAthleteSessions;\r\n            athlete.trainingSessionCount = aAthleteSessions.length;\r\n            aNewAthletes.push(athlete);\r\n        }\r\n        const oAthletes = {}\r\n        oAthletes.athletes = aNewAthletes;\r\n        return oAthletes\r\n    }\r\n\r\n\r\n   })\r\n});"],"mappings":"AAAAA,IAAIC,GAAGC,OAAO,CAAC,sBAAuB,SAASC,GAE5C,OAAOA,EAAWC,OAAO,wCAAyC,CACjEC,YAAa,WAEb,EACAC,UAAWC,eAAgBC,GACvB,IACI,IAAIC,EAAWD,EAAME,IAAKC,GAAQC,MAAMD,IACxC,IAAIE,QAAqBC,QAAQC,IAAIN,GACrC,IAAIH,QAAkBQ,QAAQC,IAAIF,EAAaH,IAAKM,GAAQA,EAAIC,SAEhE,OAAOX,CACX,CAAC,MAAOY,GACJ,MAAM,IAAIC,MAAM,sBAAsBD,IAC1C,CACJ,EAEAE,gBAAiB,SAASC,GACtB,MAAMC,EAAe,GACrB,IAAI,MAAMC,KAAWF,EAAM,GAAGG,SAAS,CACnC,MAAMC,EAAmB,GACzB,IAAI,MAAMC,KAAWL,EAAM,GAAGM,kBAAkB,CAC5C,IAAI,MAAMC,KAAYF,EAAQE,SAAS,CACnC,GAAGL,EAAQM,MAAQD,EAASE,GAAG,CAC3BL,EAAiBM,KAAKL,GACtB,KACJ,CACJ,CACJ,CACAH,EAAQS,iBAAmBP,EAC3BF,EAAQU,qBAAuBR,EAAiBS,OAChDZ,EAAaS,KAAKR,EACtB,CACA,MAAMY,EAAY,CAAC,EACnBA,EAAUX,SAAWF,EACrB,OAAOa,CACX,GAIJ","ignoreList":[]}