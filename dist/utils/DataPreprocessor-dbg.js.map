{"version":3,"names":["sap","ui","define","BaseObject","extend","constructor","fetchData","aUrls","promises","map","url","fetch","allResponses","Promise","all","res","json","err","Error","processAthletes","oData","aNewAthletes","athlete","athletes","aAthleteSessions","session","training_sessions","atendees","_id","id","push","trainingSessions","trainingSessionCount","length","oAthletes"],"sources":["DataPreprocessor.js"],"sourcesContent":["sap.ui.define([\"sap/ui/base/Object\"], function(BaseObject) {\r\n\r\n   return BaseObject.extend(\"ui5.fitnessApp.utils.DataPreprocessor\", {\r\n    constructor: function () {\r\n\r\n    },\r\n    fetchData: async function (aUrls) {\r\n        try{\r\n            let promises = aUrls.map((url) => fetch(url));\r\n            let allResponses = await Promise.all(promises);\r\n            let fetchData = await Promise.all(allResponses.map((res) => res.json()));\r\n            \r\n            return fetchData\r\n        }catch (err){\r\n            throw new Error(`Data fetch failed: ${err}`);\r\n        }\r\n    },\r\n\r\n    processAthletes: function(oData) {\r\n        const aNewAthletes = []\r\n        for(const athlete of oData[0].athletes){\r\n            const aAthleteSessions = [];\r\n            for(const session of oData[1].training_sessions){\r\n                for(const atendees of session.atendees){\r\n                    if(athlete._id === atendees.id){\r\n                        aAthleteSessions.push(session);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            athlete.trainingSessions = aAthleteSessions;\r\n            athlete.trainingSessionCount = aAthleteSessions.length;\r\n            aNewAthletes.push(athlete);\r\n        }\r\n        const oAthletes = {}\r\n        oAthletes.athletes = aNewAthletes;\r\n        return oAthletes\r\n    }\r\n\r\n\r\n   })\r\n});"],"mappings":"AAAAA,GAAG,CAACC,EAAE,CAACC,MAAM,CAAC,CAAC,oBAAoB,CAAC,EAAE,UAASC,UAAU,EAAE;EAExD,OAAOA,UAAU,CAACC,MAAM,CAAC,uCAAuC,EAAE;IACjEC,WAAW,EAAE,SAAAA,CAAA,EAAY,CAEzB,CAAC;IACDC,SAAS,EAAE,eAAAA,CAAgBC,KAAK,EAAE;MAC9B,IAAG;QACC,IAAIC,QAAQ,GAAGD,KAAK,CAACE,GAAG,CAAEC,GAAG,IAAKC,KAAK,CAACD,GAAG,CAAC,CAAC;QAC7C,IAAIE,YAAY,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACN,QAAQ,CAAC;QAC9C,IAAIF,SAAS,GAAG,MAAMO,OAAO,CAACC,GAAG,CAACF,YAAY,CAACH,GAAG,CAAEM,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC;QAExE,OAAOV,SAAS;MACpB,CAAC,QAAOW,GAAG,EAAC;QACR,MAAM,IAAIC,KAAK,CAAC,sBAAsBD,GAAG,EAAE,CAAC;MAChD;IACJ,CAAC;IAEDE,eAAe,EAAE,SAAAA,CAASC,KAAK,EAAE;MAC7B,MAAMC,YAAY,GAAG,EAAE;MACvB,KAAI,MAAMC,OAAO,IAAIF,KAAK,CAAC,CAAC,CAAC,CAACG,QAAQ,EAAC;QACnC,MAAMC,gBAAgB,GAAG,EAAE;QAC3B,KAAI,MAAMC,OAAO,IAAIL,KAAK,CAAC,CAAC,CAAC,CAACM,iBAAiB,EAAC;UAC5C,KAAI,MAAMC,QAAQ,IAAIF,OAAO,CAACE,QAAQ,EAAC;YACnC,IAAGL,OAAO,CAACM,GAAG,KAAKD,QAAQ,CAACE,EAAE,EAAC;cAC3BL,gBAAgB,CAACM,IAAI,CAACL,OAAO,CAAC;cAC9B;YACJ;UACJ;QACJ;QACAH,OAAO,CAACS,gBAAgB,GAAGP,gBAAgB;QAC3CF,OAAO,CAACU,oBAAoB,GAAGR,gBAAgB,CAACS,MAAM;QACtDZ,YAAY,CAACS,IAAI,CAACR,OAAO,CAAC;MAC9B;MACA,MAAMY,SAAS,GAAG,CAAC,CAAC;MACpBA,SAAS,CAACX,QAAQ,GAAGF,YAAY;MACjC,OAAOa,SAAS;IACpB;EAGD,CAAC,CAAC;AACL,CAAC,CAAC","ignoreList":[],"file":"DataPreprocessor-dbg.js"}